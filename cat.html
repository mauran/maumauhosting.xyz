<!DOCTYPE html>
<html lang="en">
<head>
<link href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.2.1/css/bootstrap.no-responsive.no-icons.min.css" rel="stylesheet">
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
<meta charset="utf-8"> 
<style>
	p{margin:0 !important;}
	a{text-decoration: none;}
	a:hover{text-decoration: none;}
	.voy {
		height: 20px !important;
		position: relative;
		top: -2px;
		left: -3px;
		margin-right: -36px;		
	}
</style>
<script type="text/javascript">var _sf_startpt=(new Date()).getTime()</script>
<script src="http://js.pusher.com/2.1/pusher.min.js"></script>
</head>
<body id="body">


<div style="width:320px;height:30px;background-color:#22629E;color:white;font-size:15px;line-height:30px">
	<b><i>&nbsp;&nbsp;&nbsp;<a style="color:white" href="http://maumauhosting.dk" target="_blank">Support</a></i></b>&nbsp;&nbsp;&nbsp;

</div>

<div style="width:320px;height:400px;overflow:hidden;background-color:#f0f0f0">
	<img width="320" src="https://media0.giphy.com/media/NaxKt9aSzAspO/giphy.gif"/>
	<div id="chat" style="width:314px;height:175px;margin-left:2px;margin-top:2px;resize:none;background:white;overflow:scroll;border: 1px solid #CCC;-webkit-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075);-moz-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075);box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075);-webkit-transition: border linear 0.2s, box-shadow linear 0.2s;-moz-transition: border linear 0.2s, box-shadow linear 0.2s;-o-transition: border linear 0.2s, box-shadow linear 0.2s;transition: border linear 0.2s, box-shadow linear 0.2s;margin-bottom:5px;">
	</div>
	<input id="chattext" type="text" style="margin-left:2px;width:242px;" onkeypress="handleKeyPress(event,this.form)"/><button onclick="addNewText()" style="margin-top:-10px;" class="btn">Send</button>
</div>

<script>
var i=0;

var pusher = new Pusher('1d53d06c8fdfad17fa85',{ authEndpoint: '/pusher_auth.php' });
var channel = pusher.subscribe('private-april');


window.setInterval(function(){
  var chat=document.getElementById("chat");
  switch (i) {
	  case 0:
		  chat.innerHTML +="<p style='color:blue'>Support: Hej og velkommen til MauMauHosting. Hvad kan jeg hjælpe med?</p>";
		  break;
	  case 1:
	  	  chat.innerHTML +="<p style='color:blue'>Support: Er du her?</p>";
		  break;
	  case 2:
		  chat.innerHTML +="<p style='color:blue'>Support: Køb et webhotel indenfor 5 min og jeg smider en durum med i købet!</p>";
		  break;
	  case 3:
		  chat.innerHTML +="<p style='color:blue'>Support: Nej? Hvorfor er du her? Jeg sidder faktisk og spilder min tid på dig istedet for at servicere  RIGTIGE KUNDER</p>";
		  break;
	  case 4:
		  chat.innerHTML +="<p style='color:blue'>Support: Okay okay. En dåse tun, en durum-rulle og en vaskemaskine. 100 kr. Deal?</p>";
		  break;
	  case 5:
		  chat.innerHTML +="<p style='color:blue'>Support: Don't be a dick </p>";
		  break;
	  case 6:
		  chat.innerHTML +="<p style='color:blue'>Support: Jeg vejer 99kg og har lige spist 1 kg nachos. Jeg er nu 1% nacho</p>";
		  break;
	  case 7:
		  chat.innerHTML +="<p style='color:blue'>Support: Jeg er gud.</p>";
		  break;
  }
  chat.scrollTop=chat.scrollHeight;
  i = (i+1) % 7;
},5000);

function addNewText(origin){
	var message = $('<div/>').text(document.getElementById("chattext").value).html();
	channel.trigger('client-newchat', {text: message, time: new Date().valueOf()});
	var chat=document.getElementById("chat");
	var myColor = "red";
	var name = "Dig: ";
	document.getElementById("chattext").value = "";
	chat.innerHTML +="<p style='color:" + myColor + "'>" + name + message + "</p>";
	chat.scrollTop=chat.scrollHeight;
}

function handleKeyPress(e,form){
  var key=e.keyCode || e.which;
  if (key==13) {addNewText(0);}
}


function randomStr(m) {
	var m = m || 9; s = '', r = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';
	for (var i=0; i < m; i++) { s += r.charAt(Math.floor(Math.random()*r.length)); }
	return s;
}

</script>
</body>
</html>
